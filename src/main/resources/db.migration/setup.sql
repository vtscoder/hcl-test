
drop table if exists DATA_STORE;
drop table if exists DATA_HEADER;

create table DATA_STORE
(
    DATA_STORE_ID           NUMBER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    DATA_BODY               VARCHAR2(1000 CHAR) NOT NULL,
    DATA_CHECK_SUM          VARCHAR2(200 CHAR) NOT NULL,
    CREATED_TIMESTAMP       TIMESTAMP (6) NOT NULL,
    CONSTRAINT PK_DATA_STORE PRIMARY KEY (DATA_STORE_ID)
);

create table DATA_HEADER
(
    DATA_HEADER_ID      NUMBER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    DATA_STORE_ID       NUMBER NOT NULL,
    NAME                VARCHAR2(30 CHAR) NOT NULL,
    BLOCKTYPE           VARCHAR2(11 CHAR) NOT NULL,
    CREATED_TIMESTAMP   TIMESTAMP (6) NOT NULL,
    CONSTRAINT PK_DATA_HEADER PRIMARY KEY (DATA_HEADER_ID),
    CONSTRAINT UK_DATA_HEADER UNIQUE (NAME),
    CONSTRAINT FK_DS_DH FOREIGN KEY (DATA_STORE_ID) REFERENCES DATA_STORE (DATA_STORE_ID)
);
